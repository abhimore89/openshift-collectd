Hostname    "<%=ENV['OPENSHIFT_GEAR_DNS']%>"
BaseDir "<%=ENV['OPENSHIFT_COLLECTD_DIR']%>collectd/5.4.0/"
PluginDir "<%=ENV['OPENSHIFT_COLLECTD_DIR']%>collectd/5.4.0/lib/collectd"

LoadPlugin logfile
TypesDB "<%=ENV['OPENSHIFT_COLLECTD_DIR']%>collectd/5.4.0/share/collectd/types.db"

<Plugin logfile>
  LogLevel debug
  File "<%=ENV['OPENSHIFT_COLLECTD_DIR']%>log/collectd.log"
  Timestamp true
  PrintSeverity false
</Plugin>

LoadPlugin exec

<Plugin exec>
  Exec "<%=ENV['USER']%>" "<%=ENV['OPENSHIFT_COLLECTD_DIR']%>/bin/scripts/cgroup_memory"
</Plugin>


LoadPlugin network

<% if ENV['OPENSHIFT_GEAR_DNS']!=ENV['OPENSHIFT_APP_DNS'] %>

<Plugin "network">
  Server "<%=ENV['OPENSHIFT_COLLECTD_PRIVATE_IP']%>" "<%=ENV['OPENSHIFT_COLLECTD_PRIVATE_PORT']%>"
</Plugin>

<% else %>

<Plugin "network">
  Listen "<%=ENV['OPENSHIFT_COLLECTD_PRIVATE_IP']%>" "<%=ENV['OPENSHIFT_COLLECTD_PRIVATE_PORT']%>"
</Plugin>


LoadPlugin rrdtool
<Plugin "rrdtool">
  DataDir "<%=ENV['OPENSHIFT_COLLECTD_DIR']%>data"
  StoreRates true
</Plugin>

<% end %>


